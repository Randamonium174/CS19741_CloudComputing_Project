<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ziyara — Pre-Registration Check-In</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <style>
    :root {
      --deep1:#2e1a47;
      --deep2:#0b0f1a;
      --gold:#d4af37;
      --muted: rgba(255,255,255,0.9);
    }
    body {
      background: linear-gradient(135deg,var(--deep1) 0%, #1a1530 40%, var(--deep2) 100%);
      color: var(--muted);
      min-height: 100vh;
      font-family: "Poppins", sans-serif;
      padding: 20px;
    }
    header {
      max-width: 1100px;
      margin: auto 0 20px;
      display: flex;
      align-items: center;
      gap: 12px;
    }
    .logo {
      width: 56px; height: 56px; border-radius: 10px;
      background: linear-gradient(135deg, var(--gold), #ffdd66);
      display: flex; align-items: center; justify-content: center;
      color: #111; font-weight: 700; font-family: serif;
      box-shadow: 0 6px 18px rgba(0,0,0,0.4);
      font-size: 28px;
    }
    h1 {
      margin: 0;
    }
    .tagline {
      font-size: 1rem;
      color: rgba(255,255,255,0.8);
      margin-left: auto;
      font-style: italic;
    }
    main {
      max-width: 1100px;
      margin: auto;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.06));
      border-radius: 14px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.5);
      padding: 20px;
    }
    table {
      width: 100%;
      border-collapse: separate;
      border-spacing: 0 12px;
    }
    th, td {
      padding: 12px 15px;
      text-align: left;
      vertical-align: middle;
    }
    th {
      border-bottom: 2px solid var(--gold);
      font-weight: 600;
      color: var(--gold);
    }
    tbody tr {
      background: rgba(255,255,255,0.05);
      border-radius: 8px;
      box-shadow: inset 0 0 10px rgba(0,0,0,0.2);
      transition: background 0.3s;
    }
    tbody tr:hover {
      background: rgba(255,255,255,0.12);
    }
    .btn-checkin {
      background: var(--gold);
      border: none;
      color: #111;
      font-weight: 700;
      border-radius: 8px;
      padding: 6px 12px;
      cursor: pointer;
      transition: background 0.3s;
      box-shadow: 0 4px 8px rgba(212,175,55,0.6);
    }
    .btn-checkin:hover {
      background: #b48828;
      box-shadow: 0 6px 12px rgba(212,175,55,0.9);
    }
    .small-muted {
      color: rgba(255,255,255,0.7);
      font-size: 0.85rem;
    }
    footer {
      max-width: 1100px;
      margin: 20px auto 10px;
      font-size: 0.9rem;
      color: rgba(255,255,255,0.6);
    }
  </style>
</head>
<body>

  <header>
    <div class="logo">Z</div>
    <h1>Ziyara</h1>
    <div class="tagline">Pre-Registration Check-In</div>
  </header>

  <main>
    <h2>Pending Pre-Registered Visitors</h2>
    <p class="small-muted">Use the button below to authorize and check in pre-registered guests.</p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Guest ID</th>
          <th>Purpose</th>
          <th>Valid Until</th>
          <th>Pre-Registered Time</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody id="visitor-list">
        <!-- Rows will be populated here -->
      </tbody>
    </table>
  </main>

  <footer>
    © 2025 Ziyara • Azure-powered • Demo Mode
  </footer>

  <script>
    // Sample data: pre-registered visitors (status: pending)
    let visitors = [
      {
        id: "ZYA-2025-00001",
        name: "Sadie Adler",
        purpose: "NPTEL Exam",
        validUntil: "2025-08-15T17:00",
        preRegTime: "2025-08-10T14:20",
        status: "pending"
      },
      {
        id: "ZYA-2025-00002",
        name: "Dutch",
        purpose: "Presentation",
        validUntil: "2025-08-12T12:30",
        preRegTime: "2025-08-10T10:05",
        status: "pending"
      },
      {
        id: "ZYA-2025-00003",
        name: "Laviticus Cornwall",
        purpose: "Client Visit",
        validUntil: "2025-08-11T18:00",
        preRegTime: "2025-08-09T15:45",
        status: "pending"
      }
    ];

    const visitorList = document.getElementById('visitor-list');

    function formatDateTime(dtString) {
      const dt = new Date(dtString);
      if (isNaN(dt)) return dtString;
      return dt.toLocaleString(undefined, { 
        dateStyle: 'medium', 
        timeStyle: 'short',
        hour12: true
      });
    }

    function renderVisitors() {
      visitorList.innerHTML = '';
      const pendingVisitors = visitors.filter(v => v.status === 'pending');
      if(pendingVisitors.length === 0) {
        visitorList.innerHTML = `<tr><td colspan="6" style="text-align:center; color: var(--muted);">No pending pre-registered visitors.</td></tr>`;
        return;
      }

      pendingVisitors.forEach(v => {
        const tr = document.createElement('tr');

        // Name
        const tdName = document.createElement('td');
        tdName.textContent = v.name;
        tr.appendChild(tdName);

        // ID
        const tdId = document.createElement('td');
        tdId.textContent = v.id;
        tr.appendChild(tdId);

        // Purpose
        const tdPurpose = document.createElement('td');
        tdPurpose.textContent = v.purpose;
        tr.appendChild(tdPurpose);

        // Valid Until
        const tdValid = document.createElement('td');
        tdValid.textContent = formatDateTime(v.validUntil);
        tr.appendChild(tdValid);

        // Pre-Registered Time
        const tdPreReg = document.createElement('td');
        tdPreReg.textContent = formatDateTime(v.preRegTime);
        tr.appendChild(tdPreReg);

        // Actions
        const tdActions = document.createElement('td');
        const btnCheckin = document.createElement('button');
        btnCheckin.className = 'btn-checkin';
        btnCheckin.textContent = 'Authorize & Check In';
        btnCheckin.onclick = () => {
          // Change status to 'in' and remove from list
          v.status = 'in';
          alert(`${v.name} has been checked in.`);
          renderVisitors();
        };
        tdActions.appendChild(btnCheckin);
        tr.appendChild(tdActions);

        visitorList.appendChild(tr);
      });
    }

    renderVisitors();
  </script>

</body>
</html>
